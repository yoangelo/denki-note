/**
 * Generated by orval v7.14.0 üç∫
 * Do not edit manually.
 * Timesheet API
 * OpenAPI spec version: 0.1.0
 */
import { useQuery } from "@tanstack/react-query";
import type {
  QueryFunction,
  QueryKey,
  UseQueryOptions,
  UseQueryResult,
} from "@tanstack/react-query";

import type {
  Customer,
  GetRecentCustomersParams,
  ListCustomersParams,
  RecentCustomer,
} from "../timesheetAPI.schemas";

import { httpClient } from "../../mutator";

type AwaitedInput<T> = PromiseLike<T> | T;

type Awaited<O> = O extends AwaitedInput<infer T> ? T : never;

/**
 * @summary Incremental search customers
 */
export const listCustomers = (params?: ListCustomersParams, signal?: AbortSignal) => {
  return httpClient<Customer[]>({ url: `/customers`, method: "GET", params, signal });
};

export const getListCustomersQueryKey = (params?: ListCustomersParams) => {
  return [`/customers`, ...(params ? [params] : [])] as const;
};

export const getListCustomersQueryOptions = <
  TData = Awaited<ReturnType<typeof listCustomers>>,
  TError = unknown,
>(
  params?: ListCustomersParams,
  options?: { query?: UseQueryOptions<Awaited<ReturnType<typeof listCustomers>>, TError, TData> }
) => {
  const { query: queryOptions } = options ?? {};

  const queryKey = queryOptions?.queryKey ?? getListCustomersQueryKey(params);

  const queryFn: QueryFunction<Awaited<ReturnType<typeof listCustomers>>> = ({ signal }) =>
    listCustomers(params, signal);

  return { queryKey, queryFn, ...queryOptions } as UseQueryOptions<
    Awaited<ReturnType<typeof listCustomers>>,
    TError,
    TData
  > & { queryKey: QueryKey };
};

export type ListCustomersQueryResult = NonNullable<Awaited<ReturnType<typeof listCustomers>>>;
export type ListCustomersQueryError = unknown;

/**
 * @summary Incremental search customers
 */

export function useListCustomers<
  TData = Awaited<ReturnType<typeof listCustomers>>,
  TError = unknown,
>(
  params?: ListCustomersParams,
  options?: { query?: UseQueryOptions<Awaited<ReturnType<typeof listCustomers>>, TError, TData> }
): UseQueryResult<TData, TError> & { queryKey: QueryKey } {
  const queryOptions = getListCustomersQueryOptions(params, options);

  const query = useQuery(queryOptions) as UseQueryResult<TData, TError> & { queryKey: QueryKey };

  query.queryKey = queryOptions.queryKey;

  return query;
}

/**
 * @summary Get recently used customers with sites
 */
export const getRecentCustomers = (params?: GetRecentCustomersParams, signal?: AbortSignal) => {
  return httpClient<RecentCustomer[]>({ url: `/customers/recent`, method: "GET", params, signal });
};

export const getGetRecentCustomersQueryKey = (params?: GetRecentCustomersParams) => {
  return [`/customers/recent`, ...(params ? [params] : [])] as const;
};

export const getGetRecentCustomersQueryOptions = <
  TData = Awaited<ReturnType<typeof getRecentCustomers>>,
  TError = unknown,
>(
  params?: GetRecentCustomersParams,
  options?: {
    query?: UseQueryOptions<Awaited<ReturnType<typeof getRecentCustomers>>, TError, TData>;
  }
) => {
  const { query: queryOptions } = options ?? {};

  const queryKey = queryOptions?.queryKey ?? getGetRecentCustomersQueryKey(params);

  const queryFn: QueryFunction<Awaited<ReturnType<typeof getRecentCustomers>>> = ({ signal }) =>
    getRecentCustomers(params, signal);

  return { queryKey, queryFn, ...queryOptions } as UseQueryOptions<
    Awaited<ReturnType<typeof getRecentCustomers>>,
    TError,
    TData
  > & { queryKey: QueryKey };
};

export type GetRecentCustomersQueryResult = NonNullable<
  Awaited<ReturnType<typeof getRecentCustomers>>
>;
export type GetRecentCustomersQueryError = unknown;

/**
 * @summary Get recently used customers with sites
 */

export function useGetRecentCustomers<
  TData = Awaited<ReturnType<typeof getRecentCustomers>>,
  TError = unknown,
>(
  params?: GetRecentCustomersParams,
  options?: {
    query?: UseQueryOptions<Awaited<ReturnType<typeof getRecentCustomers>>, TError, TData>;
  }
): UseQueryResult<TData, TError> & { queryKey: QueryKey } {
  const queryOptions = getGetRecentCustomersQueryOptions(params, options);

  const query = useQuery(queryOptions) as UseQueryResult<TData, TError> & { queryKey: QueryKey };

  query.queryKey = queryOptions.queryKey;

  return query;
}
